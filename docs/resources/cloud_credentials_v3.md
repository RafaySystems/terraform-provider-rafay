---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "rafay_cloud_credentials_v3 Resource - terraform-provider-rafay"
subcategory: ""
description: |-
  
---

# rafay_cloud_credentials_v3 (Resource)

Cloud credentials version 3.

## Example Usage

The following example uses AWS access and secret keys.

```terraform
resource "rafay_cloud_credentials_v3" "tftestcredentials" {
  metadata {
    name    = "terraform-demo-credentials-3"
    project = "defaultproject"
  }
  spec {
    type = "ClusterProvisioning"
    provider = "aws"
    credentials {
        type = "AccessKey"
        access_id = "dummy-id"
        secret_key = "dummy-key"
        session_token = "fake-token"
    } 
    sharing {
      enabled = false
    }
  }
}
```

The following example uses MKS creds to access the nodes for running conjurer.

```terraform
resource "rafay_cloud_credentials_v3" "tftestcredentials" {
  metadata {
    name    = "terraform-demo-credentials-5"
    project = "defaultproject"
  }
  spec {
    type = "ClusterProvisioning"
    provider = "mks"
    credentials {
        type     =  "SSH_REMOTE"
        username = "node username"
        port = "22"
        private_key = "private_key to ssh to node"
        agents {
          name = "agent1"
        }
        agents {
          name = "agent2"
        }
    } 
    sharing {
      enabled = false
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Argument Reference

---
***Required***

- `metadata` - (Block List, Max: 1) Contains data that helps uniquely identify the resource. (See [below for nested schema](#nestedblock--metadata))
- `spec` - (Block List, Max: 1) Defines the characteristics for the resource. (See [below for nested schema](#nestedblock--spec))

***Optional***

- `timeouts` - (Block, Optional) Sets the duration of time the create, delete, and update functions are allowed to run. If the function takes longer than this, it is assumed the function has failed. The default is 10 minutes. (See [below for nested schema](#nestedblock--timeouts))

***Read-Only***

- `id` - (String) The ID of the resource, generated by the system after you create the resource.

---

<a id="nestedblock--metadata"></a>
### Nested Schema for `metadata`

***Required***

- `name` - (String) The name of the resource.
- `project` - (String) The name of the project.

***Optional***

- `annotations` - (Map of String) The annotations of the resource.
- `description` - (String) The description of the resource.
- `labels` - (Map of String) The labels of the resource.


---

<a id="nestedblock--spec"></a>
### Nested Schema for `spec`

***Required***

- `credentials` - (Block List, Max: 1) Contains data for the credentials. (See [below for nested schema](#nestedblock--spec--credentials))
- `provider` - (String) - The cloud provider. The supported value is: `aws`, `azure`, `gcp`, and `vsphere`.
- `type` - (String) The type of credentials. The supported values is: `ClusterProvisioning` and `DataBackup`.

***Optional***

- `sharing` - (Boolean) - Enables sharing the cloud credentials. (See [below for nested schema](#nestedblock--spec--sharing))


<a id="nestedblock--spec--credentials"></a>
### Nested Schema for `spec.credentials`

***Required***

***Required for AWS*** 
- `type` - (String) The type of AWS credentials access. The supported value is: `AccessKey`, `Role`

***Required for AWS accesskey***
- `access_id` - (String) The AWS access id for the credentials.
- `secret_key` - (String) The AWS secret key for the credentials.

***Optional for AWS accesskey***

- `session_token` - (String) The AWS session token for the credentials.

***Required for AWS rolearn***

- `account_id` - (String) The AWS account ID.
- `arn` - (String) The AWS role Amazon Resource Name (ARN).
- `external_id` - (String) The external ID for RoleARN based credentials.

***Required for Azure***

- `client_id` - (String) The Azure client ID.
- `client_secret` - (String) The Azure client secret.
- `subscription_id` - (String) The Azure subscription ID.
- `tenant_id` - (String) The Azure tenant ID.

***Required for GCP***

- `file` - (String) The relative path to the GCP credential file (JSON).

***Required for VmWare***

- `gateway_id` - (String) The gateway name.
- `password` - (String) The vsphere password.
- `username` - (String) The vsphere username to access the resource.
- `vsphere_server` - (String) The VMware vSphere server.

***Required for MKS***

- `port` - (String) The ssh port.
- `passphrase` - (String) The ssh key passphrase.
- `username` - (String) The ssh username to access the node.
- `private_key` - (String) The ssh key to access the node.
- `agents` - (Block List) List of agents which helps to run conjurer on the nodes doing ssh.

<a id="nestedblock--spec--sharing"></a>
### Nested Schema for `spec.sharing`

***Required***

- `enabled` - (Boolean) Enables sharing the resource.
- `projects` - (Block List) The list of projects this resource is shared to. (See [below for nested schema](#nestedblock--spec--sharing--projects))

<a id="nestedblock--spec--sharing--projects"></a>
### Nested Schema for `spec.sharing.projects`

***Required***

- `name` - (String) The name of the project.

<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

***Optional***

- `create` - (String) Sets the timeout duration for creating a resource. The default timeout is 10 minutes.
- `delete` - (String) Sets the timeout duration for deleting a resource. The default timeout is 10 minutes.
- `update` - (String) Sets the timeout duration for updating a resource. The default timeout is 10 minutes.

