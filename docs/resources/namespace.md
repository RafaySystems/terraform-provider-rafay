---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "rafay_namespace Resource - terraform-provider-rafay"
subcategory: ""
description: |-
  
---

# rafay_namespace (Resource)

Create a namespace resource.  Namespaces help different projects or teams share a Kubernetes cluster. 

## Example Usage

---

The following is a simple example that demonstrates the minimum data needed for creating a namespace. 

```terraform
#rafay_namespace.tftestnamespace:
resource "rafay_namespace" "namespace" {
  metadata {
    name        = "tftestnamespace"
    project     = "terraform"
  }
  spec {
    drift {
      enabled = false
    }
    placement {
      labels {
        key = "rafay.dev/clusterName"
        value = "tftestnamespace"
      }
    }
  }
}

```

---

The following example demonstrates creating an advanced namespace, with limit ranges and resource quotas. 

```terraform
resource "rafay_namespace" "namespace" {
  metadata {
    name    = "tfdemonamespace2"
    project = "tfdemoproject1"
    labels = {
      "env" = "prod"
    }
    annotations = {
      "logging" = "enabled"
    }
  }
  spec {
    drift {
      enabled = false
    }
    limit_range {
      pod {
        max {
          cpu {
            string = "2"
          }
          memory {
            string = "2Gi"
          }
        }
        min {
          cpu {
            string = "1"
          }

          memory {
            string = "1Gi"
          }
        }

        ratio {
          cpu    = 1
          memory = 1
        }
      }
      container {
        default {
          cpu {
            string = "1"
          }

          memory {
            string = "1Gi"
          }
        }

        default_request {
          cpu {
            string = "1"
          }

          memory {
            string = "1Gi"
          }
        }

        max {
          cpu {
            string = "2"
          }

          memory {
            string = "2Gi"
          }
        }

        min {
          cpu {
            string = "1"
          }

          memory {
            string = "1Gi"
          }
        }

        ratio {
          cpu    = 1
          memory = 1
        }
      }
    }
    resource_quotas {
      limits {
        cpu {
          string = "8"
        }
        memory {
          string = "16Gi"
        }

      }
      requests {
        cpu {
          string = "4"
        }
        memory {
          string = "8Gi"
        }
      }

    }
    placement {
      labels {
        key   = "rafay.dev/clusterName"
        value = "cluster_name"
      }
    }
  }
}
```

---

The following example demonstrates creating an advanced namespace, with limit ranges and resource quotas. 

```terraform
resource "rafay_namespace" "namespace" {
  metadata {
    name    = "tfdemonamespace3"
    project = "dev"
    labels = {
      "env" = "prod"
    }
    annotations = {
      "logging" = "enabled"
    }
  }
  spec {
    drift {
      enabled = true
    }
    limit_range {
      pod {
        max {
          cpu {
            string = "2"
          }
          memory {
            string = "2Gi"
          }
        }
        min {
          cpu {
            string = "1"
          }

          memory {
            string = "1Gi"
          }
        }

        ratio {
          cpu    = 1
          memory = 1
        }
      }
      container {
        default {
          cpu {
            string = "1"
          }

          memory {
            string = "1Gi"
          }
        }

        default_request {
          cpu {
            string = "1"
          }

          memory {
            string = "1Gi"
          }
        }

        max {
          cpu {
            string = "2"
          }

          memory {
            string = "2Gi"
          }
        }

        min {
          cpu {
            string = "1"
          }

          memory {
            string = "1Gi"
          }
        }

        ratio {
          cpu    = 1
          memory = 1
        }
      }
    }
    resource_quotas {
      limits {
        cpu {
          string = "8"
        }
        memory {
          string = "16Gi"
        }

      }
      requests {
        cpu {
          string = "4"
        }
        memory {
          string = "8Gi"
        }
      }

    }
    /*
    placement {
      labels {
        key   = "rafay.dev/clusterName"
        value = "cluster_name"
      }
    }*/
  }
}
```


## Argument Reference

---
***Required***
- `metadata` - (Block List, Max: 1) Contains data that helps uniquely identify the resource. (See [below for nested schema](#nestedblock--metadata))
- `spec` - (Block List, Max: 1) Defines the characteristics for the resource. This is the desired state for the resource. (See [below for nested schema](#nestedblock--spec))

***Optional***

- `timeouts` - (Block) Sets the duration of time the create, delete, and update functions are allowed to run. If the function takes longer than this, it is assumed the function has failed. The default is 10 minutes. (See [below for nested schema](#nestedblock--timeouts))

---

<a id="nestedblock--metadata"></a>
### Nested Schema for `metadata`

***Required***
- `name` - (String) The name of the resource. This must be unique in your organization. 
- `project` - (String) The name of the Rafay project the namespace will be created in. 

***Optional***
- `annotations` - (Map) A key value map stored with the namespace that can be used to store metadata. 
- `labels` - (Map) A map of string keys and values for organizing and categorizing namespaces. 


---

<a id="nestedblock--spec"></a>
### Nested Schema for `spec`

***Optional***

- `drift` - (Block List, Max: 1) Prevents configuration drift. Drift is a change to your live cluster that is different from the source of truth. 

  **Note**: The only option is `false`. Drift configuration is currently not supported. 

- `limit_range` - (Block List, Max: 1) By default, containers can consume all available resources in a cluster. By setting limit ranges, containers can only consume as much CPU and memory that you set. (See [below for nested schema](#nestedblock--spec--limitrange))
- `placement` - (Block List, Max: 1) Defines the cluster(s) where namespace will be created. (See [below for nested schema](#nestedblock--spec--placement))
- `resource_quotas` - (Block List, Max: 1) Can limit the resource consumption per namespace. When multiple projects or teams need their own namespaces, the resource quota makes sure one namespace does not consume more than its fair share of the resources. (See [below for nested schema](#nestedblock--spec--resourcequotas))


<a id="nestedblock--spec--limitrange"></a>
### Nested Schema for `spec.limit_range`

***Optional***

- `container` - (Block List, Max: 1) An image that contains the software and all of its dependencies. (See [below for nested schema](#nestedblock--spec--limitrange--container))  
- `pod` - (Block List, Max: 1) Represents a set of running containers on your cluster. (See [below for nested schema](#nestedblock--spec--limitrange--pod)) 

    See the Kubernetes [Limit Ranges](https://kubernetes.io/docs/concepts/policy/limit-range/) documentation page for more information.

<a id="nestedblock--spec--limitrange--container"></a>
### Nested Schema for `spec.limit_range.container`

***Optional*** 

- `default` - (Block List, Max: 1) The default CPU and memory limit for a container, if not set in the pod spec file. (See [below for nested schema](#nestedblock--spec--limitrange--containermaxmin)) 
- `default_request` - (Block List, Max: 1) The default CPU and memory request for a container, if not set in the pod spec file. (See [below for nested schema](#nestedblock--spec--limitrange--containermaxmin)) 
- `max` - (Block List, Max: 1) The maximum amount of resources available to the container. (See [below for nested schema](#nestedblock--spec--limitrange--containermaxmin)) 
- `min` - (Block List, Max: 1) The minimum amount of resources used by the container. (See [below for nested schema](#nestedblock--spec--limitrange--containermaxmin))
- `ratio` - (Block List, Max: 1) The maximum limit-to-request ratio for the container. (See [below for nested schema](#nestedblock--spec--limitrange--containerratio))

<a id="nestedblock--spec--limitrange--containermaxmin"></a>
### Nested Schema for `spec.limit_range.container.default`, `spec.limit_range.container.default_request`, `spec.limit_range.container.max`, and `spec.limit_range.container.min`

**Optional** 

- `cpu` - (String) The number of CPU threads. 
- `memory` - (String) The amount of memory, in gibibytes. A gigabyte is a close equivalent to a gibibyte. 

<a id="nestedblock--spec--limitrange--containerratio"></a>
### Nested Schema for `spec.limit_range.container.ratio`

***Optional*** 

- `cpu` - (Float) The number of CPU threads. 
- `memory` - (Float) The amount of memory, in gibibytes. A gigabyte is a close equivalent to a gibibyte. 

<a id="nestedblock--spec--limitrange--pod"></a>
### Nested Schema for `spec.limit_range.pod`

***Optional*** 

- `max` - (Block List, Max: 1) The maximum amount of resources available to the container. (See [below for nested schema](#nestedblock--spec--limitrange--podmaxmin))
- `min` - (Block List, Max: 1) The minimum amount of resources used by the container. (See [below for nested schema](#nestedblock--spec--limitrange--podmaxmin))
- `ratio` - (Block List, Max: 1) The maximum limit-to-request ratio for the container or pod. (See [below for nested schema](#nestedblock--spec--limitrange--podratio))

<a id="nestedblock--spec--limitrange--podmaxmin"></a>
### Nested Schema for `spec.limit_range.pod.max` and `spec.limit_range.pod.min`

**Optional** 

- `cpu` - (String) The number of CPU threads. 
- `memory` - (String) The amount of memory, in gibibytes. A gigabyte is a close equivalent to a gibibyte. 

<a id="nestedblock--spec--limitrange--podratio"></a>
### Nested Schema for `spec.limit_range.pod.ratio`

***Optional*** 

- `cpu` - (Float) The ratio between request and limit.  
- `memory` - (Float) The ratio between request and limit. 

<a id="nestedblock--spec--placement"></a>
### Nested Schema for `spec.placement`

***Optional***

- `labels` - (Block List; Max: 1) A list of labels for the placement. (See [below for nested schema](#nestedblock--spec--placement--labels))

<a id="nestedblock--spec--placement--labels"></a>
### Nested Schema for `spec.placement.labels`

***Optional***

- `key` - (String) The key of the placement label. 
- `value` - (String) The value of the placement label. 

<a id="nestedblock--spec--resourcequotas"></a>
### Nested Schema for `spec.resource_quotas`

- `cpu` - (String) The number of CPU threads. 
- `memory` - (String) The amount of memory, in gibibytes. A gigabyte is a close equivalent to a gibibyte. 

    See the Kubernetes [Resource Quotas](https://kubernetes.io/docs/concepts/policy/resource-quotas/) documentation page for more information.

<a id="nestedblock--spec--resourcequota--limitsrequests"></a>
### Nested Schema for `spec.resource_quotas.limits` and `spec.resource_quotas.requests`

**Optional** 

- `cpu` - (String) The number of CPU threads. 
- `memory` - (String) The amount of memory, in gibibytes. A gigabyte is a close equivalent to a gibibyte. 

<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

***Optional***
- `create` - (String) Sets the timeout duration for creating a resource. The default timeout is 10 minutes. 
- `delete` - (String) Sets the timeout duration for deleting a resource. The default timeout is 10 minutes. 
- `update` - (String) Sets the timeout duration for updating a resource. The default timeout is 10 minutes. 


## Attribute Reference

---

- `id` - (String) The ID of the resource, generated by the system after you create the resource. 