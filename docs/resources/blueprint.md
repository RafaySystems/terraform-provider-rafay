---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "rafay_blueprint Resource - terraform-provider-rafay"
subcategory: ""
description: |-
  
---

# rafay_blueprint (Resource)

Blueprints are a way to group resources and policies as a package that can be rolled out across your organization. Use blueprints to help establish best practices. Share blueprints with others. 


## Example Usage
Example of a custom blueprint resource.

```terraform
resource "rafay_blueprint" "blueprint" {
  metadata {
    name    = "custom-blueprint"
    project = "terraform"
  }
  spec {
    version   = "v0"
    base {
      name = "default"
      version = "1.11.0"
    }
    drift {
      action  = "Deny"
      enabled = true
    }
    custom_addons {
      name = "addon1"
      version = "v0"
    }
    custom_addons {
      name = "addon2"
      version = "v0"
    }
    default_addons {
      enable_ingress    = true
      enable_logging    = true
      enable_monitoring = true
      enable_vm         = false
    }
  }
}
```

Example of a custom blueprint resource with Prometheus customization. 

```terraform
resource "rafay_blueprint" "blueprint" {
  metadata {
    name    = "custom-blueprint-advanced"
    project = "terraform"
  }
  spec {
    version   = "v0"
    base {
      name = "default"
      version = "1.11.0"
    }
    drift {
      action  = "Deny"
      enabled = true
    }
    custom_addons {
      name = "addon1"
      version = "v0"
    }
    custom_addons {
      depends_on = ["addon1"]
      name = "addon2"
      version = "v0"
    }
    default_addons {
      enable_ingress    = true
      enable_logging    = true
      enable_monitoring = true
      enable_vm         = false
      monitoring {
        kube_state_metrics {
          enabled = false
          discovery {
            namespace = "monitoring"
            resource = "pod"
            labels =  {
              "key1" = "value1"
            }
          }
        }
        helm_exporter {
          enabled = true
        }
        node_exporter {
          enabled = true
        }
        prometheus_adapter {
          enabled = false
        }
        metrics_server {
          enabled = false
        }
        resources {
          limits {
            memory {
              string = "200Mi"
            }
            cpu {
              string = "100m"
            }
          }
        }
      }
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Argument Reference

***Required***

- `metadata` - (Block List, Max: 1) Contains data that helps uniquely identify the resource. (See [below for nested schema](#nestedblock--metadata))
- `spec` - (Block List, Max: 1) Defines the characteristics for the resource. This is the desired state for the resource. (See [below for nested schema](#nestedblock--spec))


---

<a id="nestedblock--metadata"></a>
### Nested Schema for `metadata`

***Required***

- `name` - (String) The name of the resource. This must be unique to the organization. 
- `project` - (String) The Rafay project(s) the resource belongs to. 

---

<a id="nestedblock--spec"></a>
### Nested Schema for `spec`

***Required***
- `base` - (Block List, Max: 1) The base information for the resource. (See [below for nested schema](#nestedblock--spec--base))
- `version` - (String) The blueprint version. 

***Optional***

- `custom_addons` - (Block List) A list of custom add-ons for the resource. (See [below for nested schema](#nestedblock--spec--custom_addons))
- `default_addons` - (Block List) A list of default add-ons for the resource. (See [below for nested schema](#nestedblock--spec--default_addons)) 
- `drift` - (Block List, Max: 1) Prevents configuration drift. Drift is a change to your live cluster that is different from the source of truth. (See [below for nested schema](#nestedblock--spec--drift))
- `private_kube_api_proxies` - (Block List) A private  kubernetes API proxy network, used to provide kubectl access for your users. (See [below for nested schema](#nestedblock--spec--private_kube_api_proxies))
- `sharing` - (Block List, Max: 1) The sharing configuration for the resource. A blueprint can be shared with one or more projects.  (See [below for nested schema](#nestedblock--spec--sharing))
    Note: If the resource is not shared, set enabled = false. 

<a id="nestedblock--spec--base"></a>
### Nested Schema for `spec.base`

***Optional***

- `name` - (String) The name for the blueprint base. Options include: `default`, `minimal`, `default-openshift`, and `default-aks`.
- `version` - (String) The version of the blueprint base. Options include: `1.11.0`.


<a id="nestedblock--spec--custom_addons"></a>
### Nested Schema for `spec.custom_addons`

***Required***

- `name` - (String) The name of the blueprint add-on. 
- `version` - (String) The version of the blueprint add-on.

***Optional***

- `depends_on` - (List of String) A list of add-ons the current add-on depends on. 


<a id="nestedblock--spec--default_addons"></a>
### Nested Schema for `spec.default_addons`

***Optional***

- `enable_ingress` - (Boolean) If enabled, ingress is installed on the cluster.  
- `enable_logging` - (Boolean) If enabled, logging is installed on the cluster.  
- `enable_monitoring` - (Boolean) If enabled, monitoring is installed on the cluster. (See [below for nested schema](#nestedblock--spec--default_addons--monitoring))
- `enable_vm` - (Boolean) If enabled, VM operator (kubevirt) is installed on the cluster. 
- `monitoring` - (Block List) The configuration for monitoring the resource is installed on the cluster. 


<a id="nestedblock--spec--default_addons--monitoring"></a>
### Nested Schema for `spec.default_addons.monitoring`

***Optional***

- `kube_state_metrics` - (Block List) A service that listens to the Kubernetes API server and generates metrics about the state of the objects. (See [below for nested schema](#nestedblock--spec--default_addons--monitoring--metrics))
- `helm_exporter` - (Boolean) Exports help release, chart, and version statistics in the Prometheus format. 
- `node_exporter` - (Boolean) Monitors the host system. 
- `prometheus_adapter` - (Boolean) Provides Kubernetes metrics APIs for Prometheus. 
- `metrics_server` - (Boolean) A scalable, efficient source of container resource metrics for Kubernetes built-in autoscaling pipelines. 
- `resources` - (Block List) (See [below for nested schema](#nestedblock--spec--default_addons--monitoring--resources))


<a id="nestedblock--spec--default_addons--monitoring--metrics"></a>
### Nested Schema for `spec.default_addons.monitoring.metrics`

***Optional***

- `discovery` - (Block List) The discovery configuration. (See [below for nested schema](#nestedblock--spec--default_addons--monitoring--metrics--discovery)) 
- `enabled` - (Boolean) In enabled, the monitoring metrics add-on is enabled for the resource. 


<a id="nestedblock--spec--default_addons--monitoring--metrics--discovery"></a>
### Nested Schema for `spec.default_addons.monitoring.metrics.discovery`

***Optional***

- `labels` - (Block List) Label of the monitoring component. 
- `namespace` - (String) Namespace of the monitoring component. 
- `resource` - (String) CPU and memory limits for the monitoring component. 


<a id="nestedblock--spec--default_addons--monitoring--resources"></a>
### Nested Schema for `spec.default_addons.monitoring.resources`

***Optional***

- `limits` - (Block List) The maximum amount of resources available. (See [below for nested schema](#nestedblock--spec--default_addons--monitoring--resources--limits))


<a id="nestedblock--spec--default_addons--monitoring--resources--limits"></a>
### Nested Schema for `spec.default_addons.monitoring.resources.limits`

***Optional***

- `cpu` - (Block List) The CPU resource limit for the resource. The resource cannot use more than this limit. The CPU limit is in millicpu, also known as millicores. 100m is 100 millicpu, which is 0.1 CPU cores. 
- `memory` - (Block List) The memory resource limit for the resource. The resource cannot use more than this limit. The memory is in mebibytes. A megabyte is a close equivalent to a mebibyte. 


<a id="nestedblock--spec--drift"></a>
### Nested Schema for `spec.drift`

***Required***

- `action` - (String) If enabled, drift is enabled for resource.  Options include: `Deny` or `Notify`. 
- `enabled` - (Boolean) If enabled, drift reconciliation is enabled for resource. 


<a id="nestedblock--spec--private_kube_api_proxies"></a>
### Nested Schema for `spec.private_kube_api_proxies`

***Required***

- `name` - (String) The name of the kubernetes proxy network. 


<a id="nestedblock--spec--sharing"></a>
### Nested Schema for `spec.sharing`

***Required***

- `enabled` - (Boolean) Enable sharing for this resource. 

***Optional***
 
 Note: Required when project sharing is enabled.

- `projects` - (Block List) The list of projects this resource is shared with. (See [below for nested schema](#nestedblock--spec--sharing--projects))

<a id="nestedblock--spec--sharing--projects"></a>
### Nested Schema for `spec.sharing.projects`

***Optional***

- `name` - (String) The names of the projects the resource belongs to. 


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

***Optional***

- `create` - (String) Sets the timeout duration for creating a resource. The default timeout is 10 minutes. 
- `delete` - (String) Sets the timeout duration for deleting a resource. The default timeout is 10 minutes. 
- `update` - (String) Sets the timeout duration for updating a resource. The default timeout is 10 minutes. 


---

## Attribute Reference 

- `id` - (String) The ID of the resource, generated by the system after you create the resource.

