---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "rafay_cost_profile Resource - terraform-provider-rafay"
subcategory: ""
description: |-
  
---

# rafay_cost_profile (Resource)

A cost profile is a set of parameters that are used during the setting up and installation of OpenCost.

## Example Usage

Example cost profile for AWS

```terraform
resource "rafay_cost_profile" "tfdemocostprofile1" {
  metadata {
    name    = "tfdemocostprofile1"
    project = "terraform"
  }
  spec {
    version = "v0"
    provider_type = "aws"
    installation_params {
      aws {
        spot_integration {
          aws_spot_data_region = "sample"
          aws_spot_data_bucket = "sample"
          aws_spot_data_prefix = "sample"
          aws_account_id = "sample"
        }
        cur_integration {
          athena_region = "sample"
          athena_bucket_name = "sample"
          athena_database = "sample"
          athena_table = "sample"
          aws_account_id = "sample"
          master_payer_arn = "sample"
        }
        aws_credentials {
          cloud_credentials_name = "sample"
        }
      }
    }
  }
}
```

---

Example cost profile for Azure

```terraform
resource "rafay_cost_profile" "tfdemocostprofile-azure" {
  metadata {
    name    = "tfdemocostprofile-azure"
    project = "terraform"
  }
  spec {
    version = "v0"
    provider_type = "azure"
    installation_params {
      azure {
        custom_pricing {
          cloud_credentials_name = "sample"
        }
      }
    }
  }
}
```

Example cost profile for Other providers

```terraform
resource "rafay_cost_profile" "tfdemocostprofile-other" {
  metadata {
    name    = "tfdemocostprofile-other"
    project = "terraform"
  }
  spec {
    version = "v0"
    provider_type = "other"
    installation_params {
      other {
        cpu = "2.5"
        gpu = "3.61"
        memory = "4.3"
      }
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Argument Reference

***Required***

- `metadata` (Block List, Max: 1) Contains data that helps uniquely identify the resource. (See [below for nested schema](#nestedblock--metadata))
- `spec` (Block List, Max: 1) Defines the characteristics for the resource. (See [below for nested schema](#nestedblock--spec))

***Optional***

- `timeouts` (Block) Sets the duration of time the create, delete, and update functions are allowed to run. If the function takes longer than this, it is assumed the function has failed. The default is 10 minutes. (See [below for nested schema](#nestedblock--timeouts))

<a id="nestedblock--metadata"></a>
### Nested Schema for `metadata`

***Required***

- `name` - (String) The name of the resource. This must be unique to the organization.
- `project` - (String) The project(s) the resource belongs to.

<a id="nestedblock--spec"></a>
### Nested Schema for `spec`

***Required***

- `installation_params` (Block List, Max: 1) The parameters for the profile installation. (See [below for nested schema](#nestedblock--spec--installation_params))
- `version` (String) The version of the profile.
- `provider_type` (String) The cloud provider type. The supported values are: `aws`, `azure`, and `other`.

***Optional***

- `sharing` (Block List, Max: 1) The sharing configuration for the policy. (See [below for nested schema](#nestedblock--spec--sharing))

<a id="nestedblock--spec--installation_params"></a>
### Nested Schema for `spec.installation_params`

**Note**: Configure `installation_params` based on `provider_type`.

- `aws` (Block List, Max: 1) The AWS cost profile parameters. Use with AWS specific parameters. (See [below for nested schema](#nestedblock--spec--installation_params--aws))
- `azure` (Block List, Max: 1) The Azure cost profile parameters. Use with Azure specific parameters. (See [below for nested schema](#nestedblock--spec--installation_params--azure))
- `other` (Block List, Max: 1) The cost profile parameters for other providers. Use custom parameters for other providers. (See [below for nested schema](#nestedblock--spec--installation_params--other))

<a id="nestedblock--spec--sharing"></a>
### Nested Schema for `spec.sharing`

***Required***

- `enabled` (Boolean) Enable sharing for this resource.
- `projects` (Block List) The list of projects this resource is shared to. (See [below for nested schema](#nestedblock--spec--sharing--projects))

<a id="nestedblock--spec--installation_params--aws"></a>
### Nested Schema for `spec.installation_params.aws`

- `aws_credentials` (Block List, Max: 1) The AWS credentials to fetch for cost data. (See [below for nested schema](#nestedblock--spec--installation_params--aws--aws_credentials))
- `cur_integration` (Block List, Max: 1) The AWS cost and usage report integration (CUR) parameters. (See [below for nested schema](#nestedblock--spec--installation_params--aws--cur_integration))
- `spot_integration` (Block List, Max: 1) The AWS spot integration parameters. (See [below for nested schema](#nestedblock--spec--installation_params--aws--spot_integration))

<a id="nestedblock--spec--installation_params--azure"></a>
### Nested Schema for `spec.installation_params.azure`

- `custom_pricing` (Block List, Max: 1) The Azure cost profile parameters. Use Azure specific parameters. (See [below for nested schema](#nestedblock--spec--installation_params--azure--custom_pricing))

<a id="nestedblock--spec--installation_params--other"></a>
### Nested Schema for `spec.installation_params.other`

- `cpu` (String) The cost of CPU per hour.
- `gpu` (String) The cost of GPU per hour.
- `memory` (String) The cost of memory per GB per hour.

<a id="nestedblock--spec--installation_params--aws--aws_credentials"></a>
### Nested Schema for `spec.installation_params.aws.aws_credentials`

- `aws_service_key_name` (String) The AWS service key name.
- `aws_service_key_secret` (String) The AWS service key secret.
- `cloud_credentials_name` (String) The cloud credentials name.
- `role_arn` (String) The AWS role ARN.

<a id="nestedblock--spec--installation_params--aws--cur_integration"></a>
### Nested Schema for `spec.installation_params.aws.cur_integration`

- `athena_bucket_name` (String) The AWS Athena bucket name.
- `athena_database` (String) The AWS Athena database.
- `athena_region` (String) The AWS Athena region.
- `athena_table` (String) The AWS Athena table name.
- `aws_account_id` (String) The AWS account ID.
- `master_payer_arn` (String) The master payer ARN.

<a id="nestedblock--spec--installation_params--aws--spot_integration"></a>
### Nested Schema for `spec.installation_params.aws.spot_integration`

- `aws_account_id` (String) Aws Account ID.
- `aws_spot_data_bucket` (String) The AWS spot data bucket.
- `aws_spot_data_prefix` (String) The AWS spot data prefix.
- `aws_spot_data_region` (String) The AWS spot data region.

<a id="nestedblock--spec--installation_params--azure--custom_pricing"></a>
### Nested Schema for `spec.installation_params.azure.custom_pricing`

- `cloud_credentials_name` (String) The Azure cloud credentials name.

<a id="nestedblock--spec--sharing--projects"></a>
### Nested Schema for `spec.sharing.projects`

***Required***

- `name` (String) The name of the project.

<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

***Optional***

- `create` - (String) Sets the timeout duration for creating a resource. The default timeout is 10 minutes.
- `delete` - (String) Sets the timeout duration for deleting a resource. The default timeout is 10 minutes.
- `update` - (String) Sets the timeout duration for updating a resource. The default timeout is 10 minutes.

## Attribute Reference

---

- `id` - (String) The ID of the resource, generated by the system after you create the resource.
