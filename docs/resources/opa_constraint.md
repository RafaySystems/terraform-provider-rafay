---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "rafay_opa_constraint Resource - terraform-provider-rafay"
subcategory: ""
description: |-
  
---

# rafay_opa_constraint (Resource)

Create an Open Policy Agent (OPA) constraint.  


## Example Usage

```terraform
#Basic example for opa constraint
resource "rafay_opa_constraint" "tfdemoopaconstraint1" {
  metadata {
    name    = "request-limit-ratio"
    project = "terraform"
  }
  spec {
    artifact {
      type = "Yaml"
      artifact {
        paths {
          name = "file://artifacts/one/request-limit-ratio-constraint.yaml"
        }
      }
    }
    template_name = "request-limit-ratio-template"
  }
}
```


<!-- schema generated by tfplugindocs -->
## Argument Reference

***Required***

- `metadata` (Block List, Max: 1) Contains data that helps uniquely identify the resource. (see [below for nested schema](#nestedblock--metadata))
- `spec` (Block List, Max: 1) Defines the characteristics for the resource. This is the desired state for the resource. (see [below for nested schema](#nestedblock--spec))


***Optional*** 

- `timeouts` (Block) Sets the duration of time the create, delete, and update functions are allowed to run. If the function takes longer than this, it is assumed the function has failed. The default is 10 minutes. (see [below for nested schema](#nestedblock--timeouts))


<a id="nestedblock--metadata"></a>
### Nested Schema for `metadata`


***Required***

- `name` (String) The name of the resource. 
- `project` (String) The name of the project the constraint will be applied to. 


***Optional***

- `description` (String) A description of the resource. 


<a id="nestedblock--spec"></a>
### Nested Schema for `spec`

***Required***

- `artifact` (Block List, Max: 1) The OPA constraint resource specification. (see [below for nested schema](#nestedblock--spec--artifact))
- `template_name` (String) The name of the OPA constraint template.


<a id="nestedblock--spec--artifact"></a>
### Nested Schema for `spec.artifact`

***Required***

- `artifact` (Block List, Max: 1) Contains data about the artifact repository. (see [below for nested schema](#nestedblock--spec--artifact--artifact))
- `type` (String) The type of artifact. The supported value is Yaml.


***Optional***

- `options` (Block List, Max: 1) Constraint options. (see [below for nested schema](#nestedblock--spec--artifact--options))


<a id="nestedblock--spec--artifact--artifact"></a>
### Nested Schema for `spec.artifact.artifact`

***Required***

- `paths` (Block List) The relative paths to the file in the Git repository. (see [below for nested schema](#nestedblock--spec--artifact--artifact--paths))


***Optional***

!!! note
    If pulling a constraint manifest from the Git, `repository` and `revision` are required. 

- `repository` (String) The name of the Helm repository. 
- `revision` (String) The branch or tag in the Git repository. 


<a id="nestedblock--spec--artifact--artifact--paths"></a>
### Nested Schema for `spec.artifact.artifact.paths`

***Required***

- `name` (String) The relative path of an artifact. 


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

***Optional***

- `create` - (String) Sets the timeout duration for creating a resource. The default timeout is 10 minutes. 
- `delete` - (String) Sets the timeout duration for deleting a resource. The default timeout is 10 minutes. 
- `update` - (String) Sets the timeout duration for updating a resource. The default timeout is 10 minutes. 


## Attribute Reference

---

- `id` - (String) The ID of the resource, generated by the system after you create the resource. 
