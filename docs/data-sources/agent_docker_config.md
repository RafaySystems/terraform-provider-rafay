---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "rafay_agent_docker_config Data Source - terraform-provider-rafay"
subcategory: ""
description: |-
  
---

# rafay_agent_docker_config (Data Source)



## Example Usage

```terraform
# example 1: Download config files automatically
data "rafay_agent_docker_config" "agent_docker_config" {
  depends_on = [rafay_agent.a1]
  project    = "defaultproject"
  agent_name = "test-agent"

  download_config_files = true
  download_directory = "/some/path/here" # default is current dir
}

resource "null_resource" "start_agent" {
  depends_on = [ data.rafay_agent_docker_config.agent_docker_config ]

  provisioner "local-exec" {
    command = data.rafay_agent_docker_config.agent_docker_config.start_command
  }
}


resource "rafay_agent" "a1" {
  metadata {
    name    = "test-agent"
    project = "defaultproject"
  }
  spec {
    active = true
    type   = "Docker"
  }
}


#example 2: 
data "rafay_agent_docker_config" "agent_docker_config_2" {
  depends_on = [rafay_agent.a1]
  project    = "defaultproject"
  agent_name = "test-agent-2"

  download_config_files = false
}

locals {
  agent_id_hash = data.rafay_agent_docker_config.agent_docker_config_2.agent_id_hash
}

resource "local_file" "docker_compose" {
  filename = data.rafay_agent_docker_config.agent_docker_config_2.compose_file_name
  content  = data.rafay_agent_docker_config.agent_docker_config_2.docker_compose
}

resource "local_file" "relay_config" {
  filename = data.rafay_agent_docker_config.agent_docker_config_2.config_file_name
  content  = data.rafay_agent_docker_config.agent_docker_config_2.config
}

resource "null_resource" "start_agent_2" {
  depends_on = [local_file.docker_compose, local_file.relay_config]

  provisioner "local-exec" {
    command = data.rafay_agent_docker_config.agent_docker_config_2.start_command
  }
}

resource "rafay_agent" "a2" {
  metadata {
    name    = "test-agent-2"
    project = "defaultproject"
  }
  spec {
    active = true
    type   = "Docker"
  }
}

```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `agent_name` (String)
- `project` (String)

### Optional

- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `docker_compose` (String)
- `id` (String) The ID of this resource.
- `relay_config` (String)

<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `read` (String)
