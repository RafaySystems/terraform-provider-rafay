---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "rafay_driver Resource - terraform-provider-rafay"
subcategory: ""
description: |-
  
---

# rafay_driver (Resource)


## Example Usage

```terraform
resource "rafay_driver" "driver" {
  metadata {
    name    = var.name
    project = var.project
  }
  spec {
    config {
      type            = var.type
      timeout_seconds = 100
      max_retry_count = 3
      container {
        image = var.image
        arguments = ["--log-level=3"]
        commands = ["run main.go"]
        image_pull_credentials {
          password = "gibberesh"
          registry = "hub.docker.io"
          username = "randomuser"
        }
        kube_config_options {
          kube_config    = "path/to/kubeconfig.json"
          out_of_cluster = true
        }
        kube_options {
          labels = {
            "name" : "terraform"
          }
          resources = ["pods", "deployments"]
          tolerations = [
            {
              key : "key",
              operator : "Equal",
              value : "value"
              effect : "NoSchedule"
            }
          ]
        }
      }
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `metadata` (Block List, Max: 1) Metadata of the driver resource (see [below for nested schema](#nestedblock--metadata))
- `spec` (Block List, Max: 1) Specification of the driver resource (see [below for nested schema](#nestedblock--spec))

### Optional

- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

<a id="nestedblock--metadata"></a>
### Nested Schema for `metadata`

***Required***

- `name` (String) name of the resource
- `project` (String) Project of the resource

***Optional***

- `description` (String) description of the resource

<a id="nestedblock--spec"></a>
### Nested Schema for `spec`

***Required***

- `config` (Block List, Max: 1) Driver configuration (see [below for nested schema](#nestedblock--spec--config))

***Optional***

- `sharing` (Block List, Max: 1) Sharing with other projects (see [below for nested schema](#nestedblock--spec--sharing))

<a id="nestedblock--spec--config"></a>
### Nested Schema for `spec.config`

***Required***

- `type` (String) Specify the type of driver, Accepted values are `container`, `http`.

***Optional***

- `container` (Block List, Max: 1) Specify the container driver config (see [below for nested schema](#nestedblock--spec--config--container))
- `http` (Block List, Max: 1) Specify the http driver config (see [below for nested schema](#nestedblock--spec--config--http))
- `max_retry_count` (Number) Specify the max retry count
- `success_condition` (String) Specify the success condition
- `timeout_seconds` (Number) Specify the timeout in seconds

<a id="nestedblock--spec--config--container"></a>
### Nested Schema for `spec.config.container`

***Required***

- `image` (String) Specify the container image for the driver

***Optional***

- `arguments` (List of String) Specify the set of arguments to be passed
- `commands` (List of String) Specify the set of commands to be executed
- `cpu_limit_milli` (String) Specify the cpu limit in milli
- `env_vars` (Map of String) Specify the environment variables to be set in key,value pair
- `files` (Map of String) Specify the file data
- `image_pull_credentials` (Block List, Max: 1) Specify the credentials for the registry to pull image from private registry which requires authentication. (see [below for nested schema](#nestedblock--spec--config--container--image_pull_credentials))
- `kube_config_options` (Block List, Max: 1) Specify the kube config options (see [below for nested schema](#nestedblock--spec--config--container--kube_config_options))
- `kube_options` (Block List, Max: 1) Specify the kube options (see [below for nested schema](#nestedblock--spec--config--container--kube_options))
- `memory_limit_mb` (String) Specify the memory limit to be allocated in MB
- `volume_options` (Block List, Max: 1) [DEPRECATED] Specify the container driver volume options. Use volumes instead. (see [below for nested schema](#nestedblock--spec--config--container--volume_options))
- `volumes` (Block List) Configure the container volumes (see [below for nested schema](#nestedblock--spec--config--container--volumes))
- `working_dir_path` (String) Specify the working directory path

<a id="nestedblock--spec--config--container--image_pull_credentials"></a>
### Nested Schema for `spec.config.container.image_pull_credentials`

***Required***

- `password` (String) Specify the registry password
- `registry` (String) Specify the container image registry
- `username` (String) Specify the registry username


<a id="nestedblock--spec--config--container--kube_config_options"></a>
### Nested Schema for `spec.config.container.kube_config_options`

***Optional***

- `kube_config` (String) Specify the kube config if out of cluster is enabled
- `out_of_cluster` (Boolean) Specify if out of cluster


<a id="nestedblock--spec--config--container--kube_options"></a>
### Nested Schema for `spec.config.container.kube_options`

***Optional***

- `labels` (Map of String) Specify the labels
- `namespace` (String) Specify the namespace
- `node_selector` (Map of String) Specify the node selectors
- `security_context` (Block List, Max: 1) Specify the security context (see [below for nested schema](#nestedblock--spec--config--container--working_dir_path--security_context))
- `service_account_name` (String) Specify the service account name

<a id="nestedblock--spec--config--container--working_dir_path--security_context"></a>
### Nested Schema for `spec.config.container.working_dir_path.security_context`

***Optional***

- `privileged` (Block List, Max: 1) Specify if privileged permissions (see [below for nested schema](#nestedblock--spec--config--container--working_dir_path--security_context--privileged))
- `read_only_root_file_system` (Block List, Max: 1) Specify if permission is read only root file system (see [below for nested schema](#nestedblock--spec--config--container--working_dir_path--security_context--read_only_root_file_system))

<a id="nestedblock--spec--config--container--working_dir_path--security_context--privileged"></a>
### Nested Schema for `spec.config.container.working_dir_path.security_context.read_only_root_file_system`

***Optional***

- `value` (Boolean)


<a id="nestedblock--spec--config--container--working_dir_path--security_context--read_only_root_file_system"></a>
### Nested Schema for `spec.config.container.working_dir_path.security_context.read_only_root_file_system`

***Optional***

- `value` (Boolean)


<a id="nestedblock--spec--config--container--volume_options"></a>
### Nested Schema for `spec.config.container.volume_options`

***Optional***

- `mount_path` (String) Specify the container mount path
- `pvc_size_gb` (String) Specify the persistent volume claim size in GB
- `pvc_storage_class` (String) Specify the persistent volume claim storage class
- `use_pvc` (Block List, Max: 1) Specify if the container needs to use persistent volume claims (see [below for nested schema](#nestedblock--spec--config--container--working_dir_path--use_pvc))

<a id="nestedblock--spec--config--container--working_dir_path--use_pvc"></a>
### Nested Schema for `spec.config.container.working_dir_path.use_pvc`

***Optional***

- `value` (Boolean)



<a id="nestedblock--spec--config--container--volumes"></a>
### Nested Schema for `spec.config.container.volumes`

***Optional***

- `mount_path` (String) Specify the container mount path
- `pvc_size_gb` (String) Specify the persistent volume claim size in GB
- `pvc_storage_class` (String) Specify the persistent volume claim storage class
- `use_pvc` (Block List, Max: 1) Specify if the container needs to use persistent volume claims (see [below for nested schema](#nestedblock--spec--config--container--working_dir_path--use_pvc))

<a id="nestedblock--spec--config--container--working_dir_path--use_pvc"></a>
### Nested Schema for `spec.config.container.working_dir_path.use_pvc`

***Optional***

- `value` (Boolean)


<a id="nestedblock--spec--config--http"></a>
### Nested Schema for `spec.config.http`

***Optional***

- `body` (String) Specify the request body
- `endpoint` (String) Specify the http endpoint
- `headers` (Map of String) Specify the http headers
- `method` (String) Specify the http method

<a id="nestedblock--spec--sharing"></a>
### Nested Schema for `spec.sharing`

***Optional***

- `enabled` (Boolean) flag to specify if sharing is enabled for resource
- `projects` (Block List) list of projects this resource is shared to (see [below for nested schema](#nestedblock--spec--sharing--projects))

<a id="nestedblock--spec--sharing--projects"></a>
### Nested Schema for `spec.sharing.projects`

***Optional***

- `name` (String) name of the project




<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

***Optional***

- `create` (String)
- `delete` (String)
- `update` (String)


