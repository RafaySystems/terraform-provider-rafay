---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "rafay_blueprint Resource - terraform-provider-rafay"
subcategory: ""
description: |-
  
---

# rafay_blueprint (Resource)



## Example Usage

```terraform
# Example of a custom blueprint resource.
resource "rafay_blueprint" "blueprint" {
  metadata {
    name    = "custom-blueprint"
    project = "terraform"
  }
  spec {
    version = "v0"
    base {
      name    = "default"
      version = "1.16.0"
    }
    default_addons {
      enable_ingress    = true
      enable_logging    = false
      enable_monitoring = true
      enable_vm         = false
      monitoring {
        metrics_server {
          enabled = true
          discovery {}
        }
        helm_exporter {
          enabled = true
        }
        kube_state_metrics {
          enabled = true
        }
        node_exporter {
          enabled = true
        }
        prometheus_adapter {
          enabled = true
        }
        resources {
          limits {
            memory {
              string = "200Mi"
            }
            cpu {
              string = "100m"
            }
          }
        }
      }
    }
    drift {
      action  = "Deny"
      enabled = true
    }
    placement {
      auto_publish = false
    }
  }
}

# Blueprint for fleet values of cluster
resource "rafay_blueprint" "blueprint" {
  metadata {
    name    = "custom-blueprint-advanced"
    project = "terraform"
  }
  spec {
    version = "v0"
    base {
      name    = "default"
      version = "1.16.0"
    }
    default_addons {
      enable_ingress    = true
      enable_logging    = false
      enable_monitoring = true
      enable_vm         = false
      monitoring {
        metrics_server {
          enabled = true
          discovery {}
        }
        helm_exporter {
          enabled = true
        }
        kube_state_metrics {
          enabled = true
        }
        node_exporter {
          enabled = true
        }
        prometheus_adapter {
          enabled = true
        }
        resources {
          limits {
            memory {
              string = "200Mi"
            }
            cpu {
              string = "100m"
            }
          }
        }
      }
    }
    drift {
      action  = "Deny"
      enabled = true
    }
    placement {
      auto_publish = true
      fleet_values = ["value 1", "value 2", "value 3"]
    }
  }
}
# Blueprint with Rook-Ceph managed add-on and custom add-on
resource "rafay_blueprint" "blueprint" {
  metadata {
    name    = "custom-blueprint-advanced2"
    project = "terraform"
  }
  spec {
    version = "v0"
    base {
      name    = "default"
      version = "1.16.0"
    }
    custom_addons {
      name    = "addon1"
      version = "v0"
    }
    custom_addons {
      depends_on = ["addon1"]
      name       = "addon2"
      version    = "v0"
    }
    default_addons {
      enable_ingress    = true
      enable_logging    = false
      enable_monitoring = true
      enable_vm         = false
      enable_rook_ceph  = true
      monitoring {
        metrics_server {
          enabled = true
          discovery {}
        }
        helm_exporter {
          enabled = true
        }
        kube_state_metrics {
          enabled = true
        }
        node_exporter {
          enabled = true
        }
        prometheus_adapter {
          enabled = true
        }
        resources {
          limits {
            memory {
              string = "200Mi"
            }
            cpu {
              string = "100m"
            }
          }
        }
      }
    }
    drift {
      action  = "Deny"
      enabled = true
    }
    sharing {
      enabled = true
      projects {
        name = "terraform"
      }
    }
  }
}
# Example of a custom golden base blueprint resource.
resource "rafay_blueprint" "golden_base_blueprint" {
  metadata {
    name    = "custom-golden-blueprint"
    project = "terraform"
  }
  spec {
    version = "v0"
    base {
      name    = "default"
      version = "1.16.0"
    }
    type = "golden"
    default_addons {
      enable_ingress    = true
      enable_logging    = false
      enable_monitoring = true
      enable_vm         = false
      monitoring {
        metrics_server {
          enabled = true
          discovery {}
        }
        helm_exporter {
          enabled = true
        }
        kube_state_metrics {
          enabled = true
        }
        node_exporter {
          enabled = true
        }
        prometheus_adapter {
          enabled = true
        }
        resources {
          limits {
            memory {
              string = "200Mi"
            }
            cpu {
              string = "100m"
            }
          }
        }
      }
    }
    drift {
      action  = "Deny"
      enabled = true
    }
    placement {
      auto_publish = false
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `metadata` (Block List, Max: 1) Metadata of the blueprint resource (see [below for nested schema](#nestedblock--metadata))
- `spec` (Block List, Max: 1) Specification of the blueprint resource (see [below for nested schema](#nestedblock--spec))
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--metadata"></a>
### Nested Schema for `metadata`

Optional:

- `annotations` (Map of String) annotations of the resource
- `description` (String) description of the resource
- `labels` (Map of String) labels of the resource
- `name` (String) name of the resource
- `project` (String) Project of the resource


<a id="nestedblock--spec"></a>
### Nested Schema for `spec`

Optional:

- `base` (Block List, Max: 1) blueprint base (see [below for nested schema](#nestedblock--spec--base))
- `custom_addons` (Block List) custom addon configuration (see [below for nested schema](#nestedblock--spec--custom_addons))
- `default_addons` (Block List, Max: 1) default addon configuration (see [below for nested schema](#nestedblock--spec--default_addons))
- `drift` (Block List, Max: 1) blueprint drift configuration (see [below for nested schema](#nestedblock--spec--drift))
- `mesh_ref` (Block List, Max: 1) service mesh profile and policies details (see [below for nested schema](#nestedblock--spec--mesh_ref))
- `namespace_config` (Block List, Max: 1) namespace config (see [below for nested schema](#nestedblock--spec--namespace_config))
- `network_policy` (Block List, Max: 1) network policy and version details (see [below for nested schema](#nestedblock--spec--network_policy))
- `opa_policy` (Block List, Max: 1) opa policy and version details (see [below for nested schema](#nestedblock--spec--opa_policy))
- `placement` (Block List, Max: 1) blueprint placement (see [below for nested schema](#nestedblock--spec--placement))
- `private_kube_api_proxies` (Block List) private  kubernetes API proxy networks (see [below for nested schema](#nestedblock--spec--private_kube_api_proxies))
- `psp` (Block List, Max: 1) blueprint PSP configuration (see [below for nested schema](#nestedblock--spec--psp))
- `sharing` (Block List, Max: 1) blueprint sharing configuration (see [below for nested schema](#nestedblock--spec--sharing))
- `type` (String) Blueprint Type
- `version` (String) version of the blueprint

<a id="nestedblock--spec--base"></a>
### Nested Schema for `spec.base`

Optional:

- `name` (String) name of the blueprint base
- `version` (String) version of the blueprint base


<a id="nestedblock--spec--custom_addons"></a>
### Nested Schema for `spec.custom_addons`

Optional:

- `depends_on` (List of String) other addons current addons depends on
- `name` (String) name of the blueprint addon
- `version` (String) version of the blueprint addon


<a id="nestedblock--spec--default_addons"></a>
### Nested Schema for `spec.default_addons`

Optional:

- `csi_secret_store_config` (Block List, Max: 1) Secret Store CSI Driver Customization details (see [below for nested schema](#nestedblock--spec--default_addons--csi_secret_store_config))
- `enable_csi_secret_store` (Boolean) enable csi secret store
- `enable_ingress` (Boolean) enable default ingress
- `enable_logging` (Boolean) enable default logging
- `enable_monitoring` (Boolean) enable default monitoring
- `enable_rook_ceph` (Boolean) enable rook ceph storage
- `enable_vm` (Boolean) enable virtual machine workloads
- `monitoring` (Block List, Max: 1) default monitoring configuration (see [below for nested schema](#nestedblock--spec--default_addons--monitoring))

<a id="nestedblock--spec--default_addons--csi_secret_store_config"></a>
### Nested Schema for `spec.default_addons.csi_secret_store_config`

Optional:

- `enable_secret_rotation` (Boolean)
- `providers` (Block List, Max: 1) (see [below for nested schema](#nestedblock--spec--default_addons--csi_secret_store_config--providers))
- `rotation_poll_interval` (String)
- `sync_secrets` (Boolean)

<a id="nestedblock--spec--default_addons--csi_secret_store_config--providers"></a>
### Nested Schema for `spec.default_addons.csi_secret_store_config.sync_secrets`

Optional:

- `aws` (Boolean)
- `vault` (Boolean)



<a id="nestedblock--spec--default_addons--monitoring"></a>
### Nested Schema for `spec.default_addons.monitoring`

Optional:

- `helm_exporter` (Block List, Max: 1) Helm Exporter Configuration (see [below for nested schema](#nestedblock--spec--default_addons--monitoring--helm_exporter))
- `kube_state_metrics` (Block List, Max: 1) Kubernetes State Metrics Configuration (see [below for nested schema](#nestedblock--spec--default_addons--monitoring--kube_state_metrics))
- `metrics_server` (Block List, Max: 1) Metrics Server Configuration (see [below for nested schema](#nestedblock--spec--default_addons--monitoring--metrics_server))
- `node_exporter` (Block List, Max: 1) Node Exporter Configuration (see [below for nested schema](#nestedblock--spec--default_addons--monitoring--node_exporter))
- `prometheus_adapter` (Block List, Max: 1) Prometheus Adapter Configuration (see [below for nested schema](#nestedblock--spec--default_addons--monitoring--prometheus_adapter))
- `resources` (Block List, Max: 1) Prometheus Resources (see [below for nested schema](#nestedblock--spec--default_addons--monitoring--resources))

<a id="nestedblock--spec--default_addons--monitoring--helm_exporter"></a>
### Nested Schema for `spec.default_addons.monitoring.resources`

Optional:

- `discovery` (Block List, Max: 1) discovery configuration for monitoring component (see [below for nested schema](#nestedblock--spec--default_addons--monitoring--resources--discovery))
- `enabled` (Boolean) flag to specify if monitoring component is enabled

<a id="nestedblock--spec--default_addons--monitoring--resources--discovery"></a>
### Nested Schema for `spec.default_addons.monitoring.resources.discovery`

Optional:

- `labels` (Map of String) labels of the monitoring component
- `namespace` (String) namespace of the monitoring component
- `resource` (String) resource name of the monitoring component



<a id="nestedblock--spec--default_addons--monitoring--kube_state_metrics"></a>
### Nested Schema for `spec.default_addons.monitoring.resources`

Optional:

- `discovery` (Block List, Max: 1) discovery configuration for monitoring component (see [below for nested schema](#nestedblock--spec--default_addons--monitoring--resources--discovery))
- `enabled` (Boolean) flag to specify if monitoring component is enabled

<a id="nestedblock--spec--default_addons--monitoring--resources--discovery"></a>
### Nested Schema for `spec.default_addons.monitoring.resources.discovery`

Optional:

- `labels` (Map of String) labels of the monitoring component
- `namespace` (String) namespace of the monitoring component
- `resource` (String) resource name of the monitoring component



<a id="nestedblock--spec--default_addons--monitoring--metrics_server"></a>
### Nested Schema for `spec.default_addons.monitoring.resources`

Optional:

- `discovery` (Block List, Max: 1) discovery configuration for monitoring component (see [below for nested schema](#nestedblock--spec--default_addons--monitoring--resources--discovery))
- `enabled` (Boolean) flag to specify if monitoring component is enabled

<a id="nestedblock--spec--default_addons--monitoring--resources--discovery"></a>
### Nested Schema for `spec.default_addons.monitoring.resources.discovery`

Optional:

- `labels` (Map of String) labels of the monitoring component
- `namespace` (String) namespace of the monitoring component
- `resource` (String) resource name of the monitoring component



<a id="nestedblock--spec--default_addons--monitoring--node_exporter"></a>
### Nested Schema for `spec.default_addons.monitoring.resources`

Optional:

- `discovery` (Block List, Max: 1) discovery configuration for monitoring component (see [below for nested schema](#nestedblock--spec--default_addons--monitoring--resources--discovery))
- `enabled` (Boolean) flag to specify if monitoring component is enabled

<a id="nestedblock--spec--default_addons--monitoring--resources--discovery"></a>
### Nested Schema for `spec.default_addons.monitoring.resources.discovery`

Optional:

- `labels` (Map of String) labels of the monitoring component
- `namespace` (String) namespace of the monitoring component
- `resource` (String) resource name of the monitoring component



<a id="nestedblock--spec--default_addons--monitoring--prometheus_adapter"></a>
### Nested Schema for `spec.default_addons.monitoring.resources`

Optional:

- `discovery` (Block List, Max: 1) discovery configuration for monitoring component (see [below for nested schema](#nestedblock--spec--default_addons--monitoring--resources--discovery))
- `enabled` (Boolean) flag to specify if monitoring component is enabled

<a id="nestedblock--spec--default_addons--monitoring--resources--discovery"></a>
### Nested Schema for `spec.default_addons.monitoring.resources.discovery`

Optional:

- `labels` (Map of String) labels of the monitoring component
- `namespace` (String) namespace of the monitoring component
- `resource` (String) resource name of the monitoring component



<a id="nestedblock--spec--default_addons--monitoring--resources"></a>
### Nested Schema for `spec.default_addons.monitoring.resources`

Optional:

- `limits` (Block List, Max: 1) limits for the resources (see [below for nested schema](#nestedblock--spec--default_addons--monitoring--resources--limits))

<a id="nestedblock--spec--default_addons--monitoring--resources--limits"></a>
### Nested Schema for `spec.default_addons.monitoring.resources.limits`

Optional:

- `cpu` (String) quantity of CPU in cores
- `memory` (String) quantity of memory in MB





<a id="nestedblock--spec--drift"></a>
### Nested Schema for `spec.drift`

Optional:

- `action` (String) flag to specify if sharing is enabled for resource
- `enabled` (Boolean) flag to specify if drift reconcillation is enabled for resource


<a id="nestedblock--spec--mesh_ref"></a>
### Nested Schema for `spec.mesh_ref`

Optional:

- `enabled` (Boolean) flag to specify if service mesh is enabled for blueprint
- `policies` (Block List) name and version of cluster mesh policy (see [below for nested schema](#nestedblock--spec--mesh_ref--policies))
- `profile` (Block List, Max: 1) name and version of service mesh profile (see [below for nested schema](#nestedblock--spec--mesh_ref--profile))

<a id="nestedblock--spec--mesh_ref--policies"></a>
### Nested Schema for `spec.mesh_ref.policies`

Optional:

- `name` (String) name of the resource
- `version` (String) version of the resource


<a id="nestedblock--spec--mesh_ref--profile"></a>
### Nested Schema for `spec.mesh_ref.profile`

Optional:

- `name` (String) name of the resource
- `version` (String) version of the resource



<a id="nestedblock--spec--namespace_config"></a>
### Nested Schema for `spec.namespace_config`

Optional:

- `deny_out_of_band_creation` (Boolean) flag to deny out of band creation
- `enable_sync` (Boolean) flag to enable namespace sync


<a id="nestedblock--spec--network_policy"></a>
### Nested Schema for `spec.network_policy`

Optional:

- `enabled` (Boolean) flag to specify if network policy is enabled for blueprint
- `policies` (Block List) name and version of cluster network policy (see [below for nested schema](#nestedblock--spec--network_policy--policies))
- `profile` (Block List, Max: 1) name and version of network profile (see [below for nested schema](#nestedblock--spec--network_policy--profile))

<a id="nestedblock--spec--network_policy--policies"></a>
### Nested Schema for `spec.network_policy.policies`

Optional:

- `name` (String) name of the resource
- `version` (String) version of the resource


<a id="nestedblock--spec--network_policy--profile"></a>
### Nested Schema for `spec.network_policy.profile`

Optional:

- `name` (String) name of the resource
- `version` (String) version of the resource



<a id="nestedblock--spec--opa_policy"></a>
### Nested Schema for `spec.opa_policy`

Optional:

- `opa_policy` (Block List) policy configuration (see [below for nested schema](#nestedblock--spec--opa_policy--opa_policy))
- `profile` (Block List, Max: 1) profile configuration (see [below for nested schema](#nestedblock--spec--opa_policy--profile))

<a id="nestedblock--spec--opa_policy--opa_policy"></a>
### Nested Schema for `spec.opa_policy.opa_policy`

Optional:

- `enabled` (Boolean) flag to specify if PSP is enabled for blueprint
- `name` (String) name of the opa policy
- `version` (String) version of the opa policy


<a id="nestedblock--spec--opa_policy--profile"></a>
### Nested Schema for `spec.opa_policy.profile`

Optional:

- `name` (String) name of the opa profile
- `version` (String) version of the opa profile



<a id="nestedblock--spec--placement"></a>
### Nested Schema for `spec.placement`

Optional:

- `auto_publish` (Boolean) Bool value of autoPublish
- `fleet_values` (List of String) Array of Fleet value


<a id="nestedblock--spec--private_kube_api_proxies"></a>
### Nested Schema for `spec.private_kube_api_proxies`

Optional:

- `name` (String) name of the kubernetes proxy network


<a id="nestedblock--spec--psp"></a>
### Nested Schema for `spec.psp`

Optional:

- `enabled` (Boolean) flag to specify if PSP is enabled for blueprint
- `names` (List of String) names of the PSPs to be added for the blueprint
- `scope` (String) scope of the PSP for the blueprint


<a id="nestedblock--spec--sharing"></a>
### Nested Schema for `spec.sharing`

Optional:

- `enabled` (Boolean) flag to specify if sharing is enabled for resource
- `projects` (Block List) list of projects this resource is shared to (see [below for nested schema](#nestedblock--spec--sharing--projects))

<a id="nestedblock--spec--sharing--projects"></a>
### Nested Schema for `spec.sharing.projects`

Optional:

- `name` (String) name of the project




<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `update` (String)


