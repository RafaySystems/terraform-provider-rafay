---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "rafay_chargeback_common_services_policy Resource - terraform-provider-rafay"
subcategory: ""
description: |-
  
---

# rafay_chargeback_common_services_policy (Resource)



## Example Usage

```terraform
# Example Chargeback Common Services Policy for All Clusters in All projects
resource "rafay_chargeback_common_services_policy" "tfdemocommonservicespolicy1" {
  metadata {
    name = "tfdemocommonservicespolicy1"
  }
  spec {
    selection_type = "allClusters"
    policy_project = "*"
    common_services_namespaces = [
      "ns-1", "ns-2"
    ]
    common_services_namespace_labels {
      key   = "ns-label-key-1"
      value = "ns-label-value-1"
    }
    common_services_namespace_labels {
      key   = "ns-label-key-2"
      value = "ns-label-value-2"
    }
  }
}

# Example Chargeback Common Services Policy for All Clusters in a specific project
resource "rafay_chargeback_common_services_policy" "tfdemocommonservicespolicy2" {
  metadata {
    name = "tfdemocommonservicespolicy2"
  }
  spec {
    selection_type = "allClusters"
    policy_project = "project-1"
    common_services_namespaces = [
      "ns-1", "ns-2"
    ]
    common_services_namespace_labels {
      key   = "ns-label-key-1"
      value = "ns-label-value-1"
    }
    common_services_namespace_labels {
      key   = "ns-label-key-2"
      value = "ns-label-value-2"
    }
  }
}

# Example Chargeback Common Services Policy for Specific Clusters in a specific project
resource "rafay_chargeback_common_services_policy" "tfdemocommonservicespolicy3" {
  metadata {
    name = "tfdemocommonservicespolicy3"
  }
  spec {
    selection_type = "clusterNames"
    policy_project = "project-1"
    clusters = [
      "cluster-1", "cluster-2"
    ]
    common_services_namespaces = [
      "ns-1", "ns-2"
    ]
    common_services_namespace_labels {
      key   = "ns-label-key-1"
      value = "ns-label-value-1"
    }
    common_services_namespace_labels {
      key   = "ns-label-key-2"
      value = "ns-label-value-2"
    }
  }
}

# Example Chargeback Common Services Policy for Specific Cluster labels in a specific project
resource "rafay_chargeback_common_services_policy" "tfdemocommonservicespolicy4" {
  metadata {
    name = "tfdemocommonservicespolicy4"
  }
  spec {
    selection_type = "clusterLabels"
    policy_project = "project-1"
    cluster_labels {
      key   = "cluster-label-key-1"
      value = "cluster-label-value-1"
    }
    cluster_labels {
      key   = "cluster-label-key-2"
      value = "cluster-label-value-2"
    }
    common_services_namespaces = [
      "ns-1", "ns-2"
    ]
    common_services_namespace_labels {
      key   = "ns-label-key-1"
      value = "ns-label-value-1"
    }
    common_services_namespace_labels {
      key   = "ns-label-key-2"
      value = "ns-label-value-2"
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `metadata` (Block List, Max: 1) Metadata of the group resource (see [below for nested schema](#nestedblock--metadata))
- `spec` (Block List, Max: 1) Specification of the group resource (see [below for nested schema](#nestedblock--spec))
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--metadata"></a>
### Nested Schema for `metadata`

Optional:

- `annotations` (Map of String) annotations of the resource
- `description` (String) description of the resource
- `labels` (Map of String) labels of the resource
- `name` (String) name of the resource
- `project` (String) Project of the resource


<a id="nestedblock--spec"></a>
### Nested Schema for `spec`

Optional:

- `cluster_labels` (Block List) Cluster Labels for which the policy is being defined (see [below for nested schema](#nestedblock--spec--cluster_labels))
- `clusters` (List of String) Cluster Names for which the policy is being defined
- `common_services_namespace_labels` (Block List) Namespace Labels for the namespaces that are common services (see [below for nested schema](#nestedblock--spec--common_services_namespace_labels))
- `common_services_namespaces` (List of String) Namespaces that are common services
- `policy_project` (String) Project for which the policy is being defined for
- `selection_type` (String) Cluster Selection based on clusterLabels or clusterNames

<a id="nestedblock--spec--cluster_labels"></a>
### Nested Schema for `spec.cluster_labels`

Optional:

- `key` (String) key
- `value` (String) cluster


<a id="nestedblock--spec--common_services_namespace_labels"></a>
### Nested Schema for `spec.common_services_namespace_labels`

Optional:

- `key` (String) key
- `value` (String) cluster



<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `update` (String)


