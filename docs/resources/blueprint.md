---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "rafay_blueprint Resource - terraform-provider-rafay"
subcategory: ""
description: |-
  
---

# rafay_blueprint (Resource)



## Example Usage

```terraform
resource "rafay_blueprint" "tfdemoblueprint1" {
  metadata {
    name    = "tfdemoblueprint1"
    project = "upgrade"
    labels = {
      env  = "dev"
      name = "app"
    }
  }
  spec {
    version = "1.1"
    base {
      name    = "default"
      version = "1.11.0"
    }
    default_addons {
      enable_ingress    = true
      enable_logging    = true
      enable_monitoring = false
      enable_vm         = false
      monitoring {
        metrics_server {
          enabled = false
          discovery {}
        }
        helm_exporter {
          enabled = false
        }

        kube_state_metrics {
          enabled = false
        }

        node_exporter {
          enabled = false
        }

        prometheus_adapter {
          enabled = false
        }

        resources {
        }
      }
    }

    drift {
      action  = "Deny"
      enabled = true
    }

    sharing {
      enabled = false
      projects {
        name = "demo"
      }
    }
  }
}


resource "rafay_blueprint" "tfdemoblueprint2" {
  metadata {
    annotations = {}
    labels = {
      "env"  = "dev"
      "name" = "app"
    }
    name    = "tfdemoblueprint2"
    project = "upgrade"
  }

  spec {
    version = "1.1"

    base {
      name    = "default"
      version = "1.11.0"
    }

    custom_addons {
      depends_on = []
      name       = "tomcat1"
      version    = "v1"
    }

    custom_addons {
      depends_on = []
      name       = "gold-pinger"
      version    = "v0"
    }

    default_addons {
      enable_ingress    = true
      enable_logging    = true
      enable_monitoring = true
      enable_vm         = false

      monitoring {
        helm_exporter {
          enabled = false
        }

        kube_state_metrics {
          enabled = false
        }

        metrics_server {
          enabled = false

          discovery {}
        }

        node_exporter {
          enabled = false
        }

        prometheus_adapter {
          enabled = false
        }

        resources {
        }
      }
    }

    drift {
      action  = "Deny"
      enabled = true
    }

    sharing {
      enabled = false
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- **id** (String) The ID of this resource.
- **metadata** (Block List, Max: 1) Metadata of the blueprint resource (see [below for nested schema](#nestedblock--metadata))
- **spec** (Block List, Max: 1) Specification of the blueprint resource (see [below for nested schema](#nestedblock--spec))
- **timeouts** (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

<a id="nestedblock--metadata"></a>
### Nested Schema for `metadata`

Optional:

- **annotations** (Map of String) annotations of the resource
- **description** (String) description of the resource
- **labels** (Map of String) labels of the resource
- **name** (String) name of the resource
- **project** (String) Project of the resource


<a id="nestedblock--spec"></a>
### Nested Schema for `spec`

Optional:

- **base** (Block List, Max: 1) blueprint base (see [below for nested schema](#nestedblock--spec--base))
- **custom_addons** (Block List) custom addon configuration (see [below for nested schema](#nestedblock--spec--custom_addons))
- **default_addons** (Block List, Max: 1) default addon configuration (see [below for nested schema](#nestedblock--spec--default_addons))
- **drift** (Block List, Max: 1) blueprint drift configuration (see [below for nested schema](#nestedblock--spec--drift))
- **private_kube_api_proxies** (Block List) private  kubernetes API proxy networks (see [below for nested schema](#nestedblock--spec--private_kube_api_proxies))
- **psp** (Block List, Max: 1) blueprint PSP configuration (see [below for nested schema](#nestedblock--spec--psp))
- **sharing** (Block List, Max: 1) blueprint sharing configuration (see [below for nested schema](#nestedblock--spec--sharing))
- **version** (String) version of the blueprint

<a id="nestedblock--spec--base"></a>
### Nested Schema for `spec.base`

Optional:

- **name** (String) name of the blueprint base
- **version** (String) version of the blueprint base


<a id="nestedblock--spec--custom_addons"></a>
### Nested Schema for `spec.custom_addons`

Optional:

- **depends_on** (List of String) other addons current addons depends on
- **name** (String) name of the blueprint addon
- **version** (String) version of the blueprint addon


<a id="nestedblock--spec--default_addons"></a>
### Nested Schema for `spec.default_addons`

Optional:

- **enable_ingress** (Boolean) enable default ingress
- **enable_logging** (Boolean) enable default logging
- **enable_monitoring** (Boolean) enable default monitoring
- **enable_vm** (Boolean) enable virtual machine workloads
- **monitoring** (Block List, Max: 1) default monitoring configuration (see [below for nested schema](#nestedblock--spec--default_addons--monitoring))

<a id="nestedblock--spec--default_addons--monitoring"></a>
### Nested Schema for `spec.default_addons.monitoring`

Optional:

- **helm_exporter** (Block List, Max: 1) Helm Exporter Configuration (see [below for nested schema](#nestedblock--spec--default_addons--monitoring--helm_exporter))
- **kube_state_metrics** (Block List, Max: 1) Kubernetes State Metrics Configuration (see [below for nested schema](#nestedblock--spec--default_addons--monitoring--kube_state_metrics))
- **metrics_server** (Block List, Max: 1) Metrics Server Configuration (see [below for nested schema](#nestedblock--spec--default_addons--monitoring--metrics_server))
- **node_exporter** (Block List, Max: 1) Node Exporter Configuration (see [below for nested schema](#nestedblock--spec--default_addons--monitoring--node_exporter))
- **prometheus_adapter** (Block List, Max: 1) Prometheus Adapter Configuration (see [below for nested schema](#nestedblock--spec--default_addons--monitoring--prometheus_adapter))
- **resources** (Block List, Max: 1) Prometheus Resources (see [below for nested schema](#nestedblock--spec--default_addons--monitoring--resources))

<a id="nestedblock--spec--default_addons--monitoring--helm_exporter"></a>
### Nested Schema for `spec.default_addons.monitoring.resources`

Optional:

- **discovery** (Block List, Max: 1) discovery configuration for monitoring component (see [below for nested schema](#nestedblock--spec--default_addons--monitoring--resources--discovery))
- **enabled** (Boolean) flag to specify if monitoring component is enabled

<a id="nestedblock--spec--default_addons--monitoring--resources--discovery"></a>
### Nested Schema for `spec.default_addons.monitoring.resources.discovery`

Optional:

- **labels** (Map of String) labels of the monitoring component
- **namespace** (String) namespace of the monitoring component
- **resource** (String) resource name of the monitoring component



<a id="nestedblock--spec--default_addons--monitoring--kube_state_metrics"></a>
### Nested Schema for `spec.default_addons.monitoring.resources`

Optional:

- **discovery** (Block List, Max: 1) discovery configuration for monitoring component (see [below for nested schema](#nestedblock--spec--default_addons--monitoring--resources--discovery))
- **enabled** (Boolean) flag to specify if monitoring component is enabled

<a id="nestedblock--spec--default_addons--monitoring--resources--discovery"></a>
### Nested Schema for `spec.default_addons.monitoring.resources.discovery`

Optional:

- **labels** (Map of String) labels of the monitoring component
- **namespace** (String) namespace of the monitoring component
- **resource** (String) resource name of the monitoring component



<a id="nestedblock--spec--default_addons--monitoring--metrics_server"></a>
### Nested Schema for `spec.default_addons.monitoring.resources`

Optional:

- **discovery** (Block List, Max: 1) discovery configuration for monitoring component (see [below for nested schema](#nestedblock--spec--default_addons--monitoring--resources--discovery))
- **enabled** (Boolean) flag to specify if monitoring component is enabled

<a id="nestedblock--spec--default_addons--monitoring--resources--discovery"></a>
### Nested Schema for `spec.default_addons.monitoring.resources.discovery`

Optional:

- **labels** (Map of String) labels of the monitoring component
- **namespace** (String) namespace of the monitoring component
- **resource** (String) resource name of the monitoring component



<a id="nestedblock--spec--default_addons--monitoring--node_exporter"></a>
### Nested Schema for `spec.default_addons.monitoring.resources`

Optional:

- **discovery** (Block List, Max: 1) discovery configuration for monitoring component (see [below for nested schema](#nestedblock--spec--default_addons--monitoring--resources--discovery))
- **enabled** (Boolean) flag to specify if monitoring component is enabled

<a id="nestedblock--spec--default_addons--monitoring--resources--discovery"></a>
### Nested Schema for `spec.default_addons.monitoring.resources.discovery`

Optional:

- **labels** (Map of String) labels of the monitoring component
- **namespace** (String) namespace of the monitoring component
- **resource** (String) resource name of the monitoring component



<a id="nestedblock--spec--default_addons--monitoring--prometheus_adapter"></a>
### Nested Schema for `spec.default_addons.monitoring.resources`

Optional:

- **discovery** (Block List, Max: 1) discovery configuration for monitoring component (see [below for nested schema](#nestedblock--spec--default_addons--monitoring--resources--discovery))
- **enabled** (Boolean) flag to specify if monitoring component is enabled

<a id="nestedblock--spec--default_addons--monitoring--resources--discovery"></a>
### Nested Schema for `spec.default_addons.monitoring.resources.discovery`

Optional:

- **labels** (Map of String) labels of the monitoring component
- **namespace** (String) namespace of the monitoring component
- **resource** (String) resource name of the monitoring component



<a id="nestedblock--spec--default_addons--monitoring--resources"></a>
### Nested Schema for `spec.default_addons.monitoring.resources`

Optional:

- **limits** (Block List, Max: 1) limits for the resources (see [below for nested schema](#nestedblock--spec--default_addons--monitoring--resources--limits))

<a id="nestedblock--spec--default_addons--monitoring--resources--limits"></a>
### Nested Schema for `spec.default_addons.monitoring.resources.limits`

Optional:

- **cpu** (Block List, Max: 1) quantity of CPU in cores (see [below for nested schema](#nestedblock--spec--default_addons--monitoring--resources--limits--cpu))
- **memory** (Block List, Max: 1) quantity of memory in MB (see [below for nested schema](#nestedblock--spec--default_addons--monitoring--resources--limits--memory))

<a id="nestedblock--spec--default_addons--monitoring--resources--limits--cpu"></a>
### Nested Schema for `spec.default_addons.monitoring.resources.limits.memory`

Optional:

- **string** (String)


<a id="nestedblock--spec--default_addons--monitoring--resources--limits--memory"></a>
### Nested Schema for `spec.default_addons.monitoring.resources.limits.memory`

Optional:

- **string** (String)






<a id="nestedblock--spec--drift"></a>
### Nested Schema for `spec.drift`

Optional:

- **action** (String) flag to specify if sharing is enabled for resource
- **enabled** (Boolean) flag to specify if drift reconcillation is enabled for resource


<a id="nestedblock--spec--private_kube_api_proxies"></a>
### Nested Schema for `spec.private_kube_api_proxies`

Optional:

- **name** (String) name of the kubernetes proxy network


<a id="nestedblock--spec--psp"></a>
### Nested Schema for `spec.psp`

Optional:

- **enabled** (Boolean) flag to specify if PSP is enabled for blueprint
- **names** (List of String) names of the PSPs to be added for the blueprint
- **scope** (String) scope of the PSP for the blueprint


<a id="nestedblock--spec--sharing"></a>
### Nested Schema for `spec.sharing`

Optional:

- **enabled** (Boolean) flag to specify if sharing is enabled for resource
- **projects** (Block List) list of projects this resource is shared to (see [below for nested schema](#nestedblock--spec--sharing--projects))

<a id="nestedblock--spec--sharing--projects"></a>
### Nested Schema for `spec.sharing.projects`

Optional:

- **name** (String) name of the project




<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- **create** (String)
- **delete** (String)
- **update** (String)


